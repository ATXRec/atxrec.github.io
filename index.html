<!DOCTYPE html>
<html>
  <head>

    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta charset="utf-8">

    <!-- Chrome, Firefox OS and Opera -->
    <meta name="theme-color" content="#c1f0c1">
    <!-- iOS Safari -->
    <meta name="apple-mobile-web-app-status-bar-style" content="#f2f2f2">

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous">

    <title>ATX Recreations Map</title>

    <link rel="icon" href="https://i.imgur.com/Sq7ZWl4.png">

    <style>
    #map {
      height: 100%;
    }

    body, html {
      height: calc(100% - 27px);
    }

    .navbar {
        margin-bottom: 0px;
        height: auto;
        background-color: #F2F3F4;
    }

    #navbar {
      font-size: 90%;
    }

    #locsearch {
      padding-right: 6px;
    }

    </style>
  </head>
  <body>



<nav class="navbar navbar-light", id="navbar">
  <div class="d-flex justify-content-between">
    <ul class="nav nav-pills">
      <li class="nav-item">
        <a class="nav-link active" href="#">Map</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/calendar">Calendar</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/about">About</a>
      </li>
    </ul>
    <!--<a onclick="initLocate()" class="btn btn-outline-info" role="button" aria-pressed="true"><img src="https://www.iconsfind.com/wp-content/uploads/2013/11/Maps-and-Geolocation-Define-location.ico" width="20"/></a>-->
    <ul class="nav">
      <form class="form-inline justify-content-end", id="locsearch">
        <input class="form-control" type="text" placeholder="Search">
      </form>
      <button type="button" onclick="initLocate()" class="btn btn-outline-info"><img src="https://www.iconsfind.com/wp-content/uploads/2013/11/Maps-and-Geolocation-Define-location.ico" width="20"/></button>
    </ul>
  </div>
</nav>

<div class='contentarea' id='map'></div>

<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyA8GUJpzCpqy_rXBs8slLThmErnqjieBn4&extension=.js"></script>
<script src="infobox.js"></script>
<link href="https://cdn.mapkit.io/v1/infobox.css" rel="stylesheet">

<script>

var locations = [
  // Pool: https://i.imgur.com/hWD3v5O.png
  // Park: https://i.imgur.com/Sq7ZWl4.png
  // Splash: https://i.imgur.com/tO61iV6.png
  // Museum: https://i.imgur.com/Q657jYI.png
  // Playground: https://i.imgur.com/umsvfED.png
  // Trail: https://i.imgur.com/K7MTLyv.png
  // Field: https://i.imgur.com/5n8TP5Y.png
  // Rec Center: https://i.imgur.com/SMUpvya.png

  {
    title: "Austin Recreation Center",
    address: "1301 Shoal Creek Blvd, Austin, TX 78701, USA",
    desc: "",
    tel: "(512) 978-2370",
    int_tel: "+1 512-978-2370",
    email: "",
    web:
      "https://www.google.com/maps/place/Austin+Recreation+Center/@30.2637929,-97.743978,14.25z/data=!4m8!1m2!2m1!1srec+center!3m4!1s0x0:0xe32a739490c0b793!8m2!3d30.2783038!4d-97.7490467",
    web_formatted: "Open in Google Maps",
    open: "Open",
    time: "1357",
    lat: 30.2783037,
    lng: -97.7490472,
    vicinity: "1301 Shoal Creek Boulevard, Austin",
    open_hours: [
      { day: "Monday", hours: "7:30am–10:30pm", $$hashKey: "object:1908" },
      { day: "Tuesday", hours: "7:30am–10:30pm", $$hashKey: "object:1909" },
      { day: "Wednesday", hours: "7:30am–10:30pm", $$hashKey: "object:1910" },
      { day: "Thursday", hours: "7:30am–10:30pm", $$hashKey: "object:1911" },
      { day: "Friday", hours: "7:30am–9pm", $$hashKey: "object:1912" },
      { day: "Saturday", hours: "8:30am–3:30pm", $$hashKey: "object:1913" },
      { day: "Sunday", hours: "Closed", $$hashKey: "object:1914" }
    ],
    marker: "https://i.imgur.com/SMUpvya.png",
    iw: {
      address: true,
      desc: true,
      email: true,
      enable: true,
      int_tel: false,
      open: true,
      open_hours: true,
      photo: true,
      tel: false,
      title: true,
      web: true
    }
  },

  {
    title: "Bullock Texas State History Museum",
    address: "1800 Congress Ave, Austin, TX 78701, USA",
    desc: "",
    tel: "(512) 936-8746",
    int_tel: "+1 512-936-8746",
    email: "",
    web:
      "https://www.google.com/maps/place/Bullock+Texas+State+History+Museum/@30.2786863,-97.7412046,17z/data=!4m8!1m2!2m1!1smuseum!3m4!1s0x0:0xd301bae0460e95a2!8m2!3d30.2803647!4d-97.7391741",
    web_formatted: "Open in Google Maps",
    open: "Open",
    time: "1353",
    lat: 30.2803648,
    lng: -97.73917360000002,
    vicinity: "1800 Congress Avenue, Austin",
    open_hours: [
      { day: "Monday", hours: "9am–5pm", $$hashKey: "object:1516" },
      { day: "Tuesday", hours: "9am–5pm", $$hashKey: "object:1517" },
      { day: "Wednesday", hours: "9am–5pm", $$hashKey: "object:1518" },
      { day: "Thursday", hours: "9am–5pm", $$hashKey: "object:1519" },
      { day: "Friday", hours: "9am–5pm", $$hashKey: "object:1520" },
      { day: "Saturday", hours: "9am–5pm", $$hashKey: "object:1521" },
      { day: "Sunday", hours: "12–5pm", $$hashKey: "object:1522" }
    ],
    marker: "https://i.imgur.com/Q657jYI.png",
    iw: {
      address: true,
      desc: true,
      email: true,
      enable: true,
      int_tel: false,
      open: true,
      open_hours: true,
      photo: true,
      tel: false,
      title: true,
      web: true
    }
  },
  {
    title: "Butler Park",
    address: "1000 Barton Springs Rd, Austin, TX 78704, USA",
    desc:
      "Winding park with city vistas, a night-lit fountain, a pond, walking paths & other features.",
    tel: "(512) 974-6700",
    marker: "https://i.imgur.com/Sq7ZWl4.png",
    email: "",
    web:
      "https://www.google.com/maps/place/Butler+Park/@30.2615294,-97.7546749,18.25z/data=!4m5!3m4!1s0x8644b51b0fce85b3:0x7ee2d130cb0014de!8m2!3d30.2613863!4d-97.754175",
    web_formatted: "Open in Google Maps",
    open: "Open",
    time: "1829",
    lat: 30.2613863,
    lng: -97.75417499999998,
    vicinity: "1000 Barton Springs Road, Austin",
    open_hours: [
      { day: "Monday", hours: "5am–10pm", $$hashKey: "object:6387" },
      { day: "Tuesday", hours: "5am–10pm", $$hashKey: "object:6388" },
      { day: "Wednesday", hours: "5am–10pm", $$hashKey: "object:6389" },
      { day: "Thursday", hours: "5am–10pm", $$hashKey: "object:6390" },
      { day: "Friday", hours: "5am–10pm", $$hashKey: "object:6391" },
      { day: "Saturday", hours: "5am–10pm", $$hashKey: "object:6392" },
      { day: "Sunday", hours: "5am–10pm", $$hashKey: "object:6393" }
    ],
    iw: {
      address: true,
      desc: true,
      email: true,
      enable: true,
      int_tel: false,
      open: true,
      open_hours: true,
      photo: true,
      tel: false,
      title: true,
      web: true
    }
  },

  {
    title: "Zilker Metropolitan Park",
    address: "2100 Barton Springs Rd, Austin, TX 78746, United States",
    desc:
      "Zilker Metropolitan Park is a recreational area in south Austin, Texas at the juncture of Barton Creek and the Colorado River that comprises over 350 acres of publicly owned land.",
    tel: "",
    int_tel: "",
    email: "",
    web:
      "https://www.google.com/maps/place/Zilker+Metropolitan+Park/@30.2636355,-97.7728872,17z/data=!4m5!3m4!1s0x8644b53a1df2e44f:0x62182a199b2e5fad!8m2!3d30.2669624!4d-97.7728593",
    web_formatted: "Open in Google Maps",
    open: "",
    time: "",
    lat: 30.2669624,
    lng: -97.7728593,
    vicinity: "2100 Barton Springs Rd, Austin, TX 78746, United States",
    open_hours: [
      { day: "Monday", hours: "5am–10pm", $$hashKey: "object:6387" },
      { day: "Tuesday", hours: "5am–10pm", $$hashKey: "object:6388" },
      { day: "Wednesday", hours: "5am–10pm", $$hashKey: "object:6389" },
      { day: "Thursday", hours: "5am–10pm", $$hashKey: "object:6390" },
      { day: "Friday", hours: "5am–10pm", $$hashKey: "object:6391" },
      { day: "Saturday", hours: "5am–10pm", $$hashKey: "object:6392" },
      { day: "Sunday", hours: "5am–10pm", $$hashKey: "object:6393" }
    ],
    marker: "https://i.imgur.com/Sq7ZWl4.png",
    iw: {
      address: true,
      desc: true,
      email: true,
      enable: true,
      int_tel: true,
      open: true,
      open_hours: true,
      photo: true,
      tel: true,
      title: true,
      web: true
    }
  },

  {
    title: "Barton Springs Pool",
    address: "2201 Barton Springs Rd, Austin, TX 78746, USA",
    desc:
      "Barton Springs Pool is a recreational outdoor swimming pool that is filled entirely with water from nearby natural springs. It is located on the grounds of Zilker Park in Austin, Texas.",
    tel: "(512) 867-3080",
    int_tel: "+1 512-867-3080",
    email: "",
    web:
      "https://www.google.com/maps/place/Barton+Springs+Pool/@30.2636355,-97.7728872,17z/data=!3m1!4b1!4m5!3m4!1s0x8644b53c9ca39041:0x1e4f612ca40e5d37!8m2!3d30.2636355!4d-97.7706985",
    web_formatted: "Open in Google Maps",
    open: "Closed",
    time: "2337",
    lat: 30.2636355,
    lng: -97.77069849999998,
    vicinity: "2201 Barton Springs Road, Austin",
    open_hours: [
      { day: "Monday", hours: "5am–10pm", $$hashKey: "object:2243" },
      { day: "Tuesday", hours: "5am–10pm", $$hashKey: "object:2244" },
      { day: "Wednesday", hours: "5am–10pm", $$hashKey: "object:2245" },
      { day: "Thursday", hours: "5–9am,7–10pm", $$hashKey: "object:2246" },
      { day: "Friday", hours: "5am–10pm", $$hashKey: "object:2247" },
      { day: "Saturday", hours: "5am–10pm", $$hashKey: "object:2248" },
      { day: "Sunday", hours: "5am–10pm", $$hashKey: "object:2249" }
    ],
    marker: "https://i.imgur.com/hWD3v5O.png",
    iw: {
      address: true,
      desc: true,
      email: true,
      enable: true,
      int_tel: false,
      open: true,
      open_hours: true,
      photo: true,
      tel: false,
      title: true,
      web: true
    }
  },

  {
    title: "Metz Splash Pad",
    address: "2407 Canterbury St, Austin, TX 78702, USA",
    desc: "",
    tel: "(512) 974-9331",
    int_tel: "+1 512-974-9331",
    email: "",
    web:
      "https://www.google.com/maps/place/Metz+Splash+Pad/@30.2522184,-97.7188242,18.34z/data=!4m8!1m2!2m1!1ssearch!3m4!1s0x8644b4350e0506ab:0x6ab78b33458e273d!8m2!3d30.2522166!4d-97.7182153",
    web_formatted: "Open in Google Maps",
    open: "",
    time: "",
    lat: 30.2522166,
    lng: -97.7182153,
    vicinity: "2407 Canterbury Street, Austin",
    open_hours: "",
    marker: "https://i.imgur.com/tO61iV6.png",
    iw: {
      address: true,
      desc: true,
      email: true,
      enable: true,
      int_tel: false,
      open: true,
      open_hours: true,
      photo: true,
      tel: false,
      title: true,
      web: true
    }
  },

  {
    title: "Little Stacy Neighborhood Park",
    address: "1500 Alameda Dr, Austin, TX 78704, USA",
    desc: "",
    tel: "(512) 974-6700",
    int_tel: "+1 512-974-6700",
    email: "",
    web:
      "https://www.google.com/maps/place/Little+Stacy+Neighborhood+Park/@30.2482798,-97.743431,19z/data=!4m8!1m2!2m1!1ssearch!3m4!1s0x0:0x9be684af1d717f09!8m2!3d30.2482241!4d-97.7434462",
    web_formatted: "Open in Google Maps",
    open: "Open",
    time: "1349",
    lat: 30.2482218,
    lng: -97.74344659999997,
    vicinity: "1500 Alameda Drive, Austin",
    open_hours: [
      { day: "Monday", hours: "5am–10pm", $$hashKey: "object:1104" },
      { day: "Tuesday", hours: "5am–10pm", $$hashKey: "object:1105" },
      { day: "Wednesday", hours: "5am–10pm", $$hashKey: "object:1106" },
      { day: "Thursday", hours: "5am–10pm", $$hashKey: "object:1107" },
      { day: "Friday", hours: "5am–10pm", $$hashKey: "object:1108" },
      { day: "Saturday", hours: "5am–10pm", $$hashKey: "object:1109" },
      { day: "Sunday", hours: "5am–10pm", $$hashKey: "object:1110" }
    ],
    marker: "https://i.imgur.com/umsvfED.png",
    iw: {
      address: true,
      desc: true,
      email: true,
      enable: true,
      int_tel: false,
      open: true,
      open_hours: true,
      photo: true,
      tel: false,
      title: true,
      web: true
    }
  },
  {
    title: "Liz Carpenter Splash Pad",
    address: "1000 Barton Springs Rd, Austin, TX 78704, USA",
    desc: "",
    tel: "(512) 974-9331",
    int_tel: "+1 512-974-9331",
    email: "",
    web:
      "https://www.google.com/maps/place/Liz+Carpenter+Splash+Pad/@30.2625952,-97.7544181,19z/data=!4m5!3m4!1s0x0:0xa3036308cdb8fc8b!8m2!3d30.262138!4d-97.7543977",
    web_formatted: "Open in Google Maps",
    open: "Open",
    time: "1342",
    lat: 30.262138,
    lng: -97.75439799999998,
    vicinity: "1000 Barton Springs Road, Austin",
    open_hours: [
      { day: "Monday", hours: "12am–9:45pm", $$hashKey: "object:542" },
      { day: "Tuesday", hours: "8am–9:45pm", $$hashKey: "object:543" },
      { day: "Wednesday", hours: "8am–9:45pm", $$hashKey: "object:544" },
      { day: "Thursday", hours: "8am–9:45pm", $$hashKey: "object:545" },
      { day: "Friday", hours: "8am–9:45pm", $$hashKey: "object:546" },
      { day: "Saturday", hours: "8am–9:45pm", $$hashKey: "object:547" },
      { day: "Sunday", hours: "8am–9:45pm", $$hashKey: "object:548" }
    ],
    marker: "https://i.imgur.com/tO61iV6.png",
    iw: {
      address: true,
      desc: true,
      email: true,
      enable: true,
      int_tel: false,
      open: true,
      open_hours: true,
      photo: true,
      tel: false,
      title: true,
      web: true
    }
  }
];

  google.maps.event.addDomListener(window, "load", init);
  var map,
    markersArray = [];

  var locationlist = []

  function bindInfoWindow(marker, map, location) {
    google.maps.event.addListener(marker, "click", function() {
      function close(location) {
        location.ib.close();
        location.infoWindowVisible = false;
        location.ib = null;
        //if (locationlist.length >= 1) {
          locationlist.shift();
        //}
      }

      if (location.infoWindowVisible === true) {
        close(location);
      } else {
        markersArray.forEach(function(loc, index) {
          if (loc.ib && loc.ib !== null) {
            close(loc);
          }
        });

        var boxText = document.createElement("div");
        boxText.style.cssText = "background: #fff;";
        boxText.classList.add("md-whiteframe-2dp");

        function buildPieces(location, el, part, icon) {
          if (location[part] === "") {
            return "";
          } else if (location.iw[part]) {
            switch (el) {
              case "photo":
                if (location.photo) {
                  return (
                    '<div class="iw-photo" style="background-image: url(' +
                    location.photo +
                    ');"></div>'
                  );
                } else {
                  return "";
                }
                break;
              case "iw-toolbar":
                return (
                  '<div class="iw-toolbar"><h3 class="md-subhead">' +
                  location.title +
                  "</h3></div>"
                );
                break;
              case "div":
                switch (part) {
                  case "email":
                    return (
                      '<div class="iw-details"><i class="material-icons" style="color:#4285f4;"><img src="https://cdn.mapkit.io/v1/icons/' +
                      icon +
                      '.svg"/></i><span><a href="mailto:' +
                      location.email +
                      '" target="_blank">' +
                      location.email +
                      "</a></span></div>"
                    );
                    break;
                  case "web":
                    return (
                      '<div class="iw-details"><i class="material-icons" style="color:#4285f4;"><img src="https://cdn.mapkit.io/v1/icons/' +
                      icon +
                      '.svg"/></i><span><a href="' +
                      location.web +
                      '" target="_blank">' +
                      location.web_formatted +
                      "</a></span></div>"
                    );
                    break;
                  case "desc":
                    return (
                      '<label class="iw-desc" for="cb_details"><input type="checkbox" id="cb_details"/><h3 class="iw-x-details">Details</h3><i class="material-icons toggle-open-details"><img src="https://cdn.mapkit.io/v1/icons/' +
                      icon +
                      '.svg"/></i><p class="iw-x-details">' +
                      location.desc +
                      "</p></label>"
                    );
                    break;
                  default:
                    return (
                      '<div class="iw-details"><i class="material-icons"><img src="https://cdn.mapkit.io/v1/icons/' +
                      icon +
                      '.svg"/></i><span>' +
                      location[part] +
                      "</span></div>"
                    );
                    break;
                }
                break;
              case "open_hours":
                var items = "";
                if (location.open_hours.length > 0) {
                  for (var i = 0; i < location.open_hours.length; ++i) {
                    if (i !== 0) {
                      items +=
                        "<li><strong>" +
                        location.open_hours[i].day +
                        "</strong><strong>" +
                        location.open_hours[i].hours +
                        "</strong></li>";
                    }
                    var first =
                      '<li><label for="cb_hours"><input type="checkbox" id="cb_hours"/><strong>' +
                      location.open_hours[0].day +
                      "</strong><strong>" +
                      location.open_hours[0].hours +
                      '</strong><i class="material-icons toggle-open-hours"><img src="https://cdn.mapkit.io/v1/icons/keyboard_arrow_down.svg"/></i><ul>' +
                      items +
                      "</ul></label></li>";
                  }
                  return (
                    '<div class="iw-list"><i class="material-icons first-material-icons" style="color:#4285f4;"><img src="https://cdn.mapkit.io/v1/icons/' +
                    icon +
                    '.svg"/></i><ul>' +
                    first +
                    "</ul></div>"
                  );
                } else {
                  return "";
                }
                break;
            }
          } else {
            return "";
          }
        }

        boxText.innerHTML =
          buildPieces(location, "photo", "photo", "") +
          buildPieces(location, "iw-toolbar", "title", "") +
          buildPieces(location, "div", "address", "location_on") +
          buildPieces(location, "div", "web", "public") +
          buildPieces(location, "div", "email", "email") +
          buildPieces(location, "div", "tel", "phone") +
          buildPieces(location, "div", "int_tel", "phone") +
          buildPieces(location, "open_hours", "open_hours", "access_time") +
          buildPieces(location, "div", "desc", "keyboard_arrow_down");

        var myOptions = {
          alignBottom: true,
          content: boxText,
          disableAutoPan: true,
          maxWidth: 0,
          pixelOffset: new google.maps.Size(-140, -40),
          zIndex: null,
          boxStyle: {
            opacity: 1,
            width: "280px"
          },
          closeBoxMargin: "0px 0px 0px 0px",
          infoBoxClearance: new google.maps.Size(1, 1),
          isHidden: false,
          pane: "floatPane",
          enableEventPropagation: false
        };

        location.ib = new InfoBox(myOptions);
        location.ib.open(map, marker);
        location.infoWindowVisible = true;
        map.setCenter({lat: location.lat, lng: location.lng})

      // WORKS
      locationlist.push(location)
      close(locationlist[locationlist.length-2])
      }
    });
  }

  function init() {
    var mapOptions = {
      center: new google.maps.LatLng(30.26827752877251, -97.74217643718337),
      zoom: 13,
      gestureHandling: "auto",
      fullscreenControl: false,
      zoomControl: false,
      disableDoubleClickZoom: true,
      mapTypeControl: false,
      scaleControl: false,
      scrollwheel: true,
      streetViewControl: false,
      draggable: true,
      clickableIcons: false,
      mapTypeId: google.maps.MapTypeId.ROADMAP
    };

    var mapElement = document.getElementById("map");
    var map = new google.maps.Map(mapElement, mapOptions);

    for (i = 0; i < locations.length; i++) {
      // vv Icon scaling
      var icon = {
        url: locations[i].marker, // url
        scaledSize: new google.maps.Size(43, 43)
      }; // scaled size
      marker = new google.maps.Marker({
        icon: icon,
        // ^^ Icon scaling
        position: new google.maps.LatLng(locations[i].lat, locations[i].lng),
        map: map,
        title: locations[i].title,
        address: locations[i].address,
        desc: locations[i].desc,
        tel: locations[i].tel,
        int_tel: locations[i].int_tel,
        vicinity: locations[i].vicinity,
        open: locations[i].open,
        open_hours: locations[i].open_hours,
        photo: locations[i].photo,
        time: locations[i].time,
        email: locations[i].email,
        web: locations[i].web,
        iw: locations[i].iw
      });
      markersArray.push(marker);

      if (locations[i].iw.enable === true) {
        bindInfoWindow(marker, map, locations[i]);
      };
    };
    // GEOLOCATION START
    /*
    if (navigator.geolocation) {
      navigator.geolocation.getCurrentPosition(function(position) {
        var pos = {
          lat: position.coords.latitude,
          lng: position.coords.longitude
        };

        map.setCenter(pos);
        map.setZoom(14);
        var locations1 = [
          {
            marker: "https://i.imgur.com/DnoLNQk.png",
            lat: position.coords.latitude,
            lng: position.coords.longitude,
            iw: {
              address: true,
              desc: true,
              email: true,
              enable: true,
              int_tel: false,
              open: true,
              open_hours: true,
              photo: true,
              tel: false,
              title: true,
              web: true
            }
          }
        ];;

        for (i = 0; i < locations1.length; i++) {
          // vv Icon scaling
          var icon = {
            url: locations1[i].marker, // url
            scaledSize: new google.maps.Size(18, 18)
          }; // scaled size
          // ^^ Icon scaling
          marker = new google.maps.Marker({
            icon: icon,
            position: new google.maps.LatLng(
              position.coords.latitude,
              position.coords.longitude
            ),
            map: map,
            title: "You"
          });
          markersArray.push(marker);
        }
      })
    }*/
    // GEOLOCATION END
  }

  function initLocate() {
    var mapOptions = {
      center: new google.maps.LatLng(30.26827752877251, -97.74217643718337),
      zoom: 13,
      gestureHandling: "auto",
      fullscreenControl: false,
      zoomControl: false,
      disableDoubleClickZoom: true,
      mapTypeControl: false,
      scaleControl: false,
      scrollwheel: true,
      streetViewControl: false,
      draggable: true,
      clickableIcons: false,
      mapTypeId: google.maps.MapTypeId.ROADMAP
    };

    var mapElement = document.getElementById("map");
    var map = new google.maps.Map(mapElement, mapOptions);

    for (i = 0; i < locations.length; i++) {
      // vv Icon scaling
      var icon = {
        url: locations[i].marker, // url
        scaledSize: new google.maps.Size(43, 43)
      }; // scaled size
      marker = new google.maps.Marker({
        icon: icon,
        // ^^ Icon scaling
        position: new google.maps.LatLng(locations[i].lat, locations[i].lng),
        map: map,
        title: locations[i].title,
        address: locations[i].address,
        desc: locations[i].desc,
        tel: locations[i].tel,
        int_tel: locations[i].int_tel,
        vicinity: locations[i].vicinity,
        open: locations[i].open,
        open_hours: locations[i].open_hours,
        photo: locations[i].photo,
        time: locations[i].time,
        email: locations[i].email,
        web: locations[i].web,
        iw: locations[i].iw
      });
      markersArray.push(marker);

      if (locations[i].iw.enable === true) {
        bindInfoWindow(marker, map, locations[i]);
      };
    };
    // GEOLOCATION START

    if (navigator.geolocation) {
      navigator.geolocation.getCurrentPosition(function(position) {
        var pos = {
          lat: position.coords.latitude,
          lng: position.coords.longitude
        };

        map.setCenter(pos);
        map.setZoom(14);
        var locations1 = [
          {
            marker: "https://i.imgur.com/DnoLNQk.png",
            lat: position.coords.latitude,
            lng: position.coords.longitude,
            iw: {
              address: true,
              desc: true,
              email: true,
              enable: true,
              int_tel: false,
              open: true,
              open_hours: true,
              photo: true,
              tel: false,
              title: true,
              web: true
            }
          }
        ];;

        for (i = 0; i < locations1.length; i++) {
          // vv Icon scaling
          var icon = {
            url: locations1[i].marker, // url
            scaledSize: new google.maps.Size(18, 18)
          }; // scaled size
          // ^^ Icon scaling
          marker = new google.maps.Marker({
            icon: icon,
            position: new google.maps.LatLng(
              position.coords.latitude,
              position.coords.longitude
            ),
            map: map,
            title: "You"
          });
          markersArray.push(marker);
        }
      })
    }
    // GEOLOCATION END
  }
</script>


<script src="https://code.jquery.com/jquery-3.1.1.slim.min.js" integrity="sha384-A7FZj7v+d/sdmMqp/nOQwliLvUsJfDHW+k9Omg/a/EheAdgtzNs3hpfag6Ed950n" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js" integrity="sha384-DztdAPBWPRXSA/3eYEEUWrWCy7G5KFbe8fFjk5JAIxUYHKkDx6Qin1DkWx51bBrb" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn" crossorigin="anonymous"></script>



  </body>
</html>
